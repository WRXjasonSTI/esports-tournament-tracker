$(document).ready(function(){$(".navbar-burger").click(function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")});var a=$(".dropdown");function e(v,t,g){var a="https://cors-anywhere.herokuapp.com/https://api.pandascore.co"+v+"?per_page="+t+"&token=RtNbglsDqX2pPUZIyGNsGqkWqXozcjYULHffv0Okx2HQidOPryc";$.ajax({url:a,method:"GET"}).then(function(u){var t=$("#dropdownContent");for(i=0;i<u.length;i++){var a=$("<a>");a.addClass("dropdown-item"),a.text(u[i].serie.full_name+" - "+u[i].league.name+" - "+u[i].name),a.attr("tourneyValue",i),t.append(a)}function e(t){g.html("");var a=$("<div>"),e=$("<p>"),n=$("<p>");for(a.addClass("tournamentName tourneyCard box"),e.addClass("contactText"),n.addClass("contactText"),e.text(u[t].serie.full_name+" - "+u[t].league.name+" - "+u[t].name),"/ow/tournaments"==v?n.text("Matches:"):n.text("Upcoming Matches:"),a.append(e,n),g.append(a),i=0;i<u[t].matches.length;i++){var o=$("<div>").addClass("matchupDiv contactCard box"),r=$("<p>").addClass("winner contactText"),s=$("<p>").addClass("matchupName contactText"),c=$("<p>").addClass("matchupTime contactText"),l=$("<p>").addClass("matchupDate contactText");s.text(u[t].matches[i].name);var d=u[t].matches[i].begin_at,m=moment(d),p=m.utc().format("MM-DD-YYYY"),h=m.utc().format("HH:mm:ss");if(c.text("Match Time: "+h),l.text("Match Date: "+p),o.append(s,l,c),null!==u[t].matches[i].winner_id&&void 0!==u[t].matches[i].winner_id)for(x=0;x<u[t].teams.length;x++)u[t].matches[i].winner_id==u[t].teams[x].id&&(r.text("Winner: "+u[t].teams[x].name),o.append(r));u[t].matches[i].draw&&(r.text("Winner: Draw"),o.append(r)),g.append(o)}}$("#dropdownContent").on("click",function(t){t.preventDefault();var a=$(t.target);a.hasClass("dropdown-item")&&e(a.attr("tourneyValue"))}),e(0)})}function n(t,a,e){var n="https://cors-anywhere.herokuapp.com/https://api.twitch.tv/kraken/streams/?game="+t+"&limit="+a+"&api_version=5&language=en";$.ajax({type:"GET",url:n,headers:{"Client-ID":"5im67pxtrmahhr4u8f270ntw5l5srp"}}).then(function(t){!function(t,a){var e=t;for(i=0;i<e.streams.length;i++){var n=$("<a>"),o=$("<div>"),r=$("<img>"),s=$("<h5>"),c=$("<p>");s.addClass("streamTitle contactText"),s.text(e.streams[i].channel.display_name),c.addClass("streamDescription"),c.text(e.streams[i].channel.status),n.addClass("twitchLink contactCard"),n.attr("href",e.streams[i].channel.url),n.attr("target","_blank"),o.addClass("twitchStreamDiv contactCard container"),r.addClass("is-4by3"),r.attr("src",e.streams[i].preview.medium),o.append(r),o.append(s),o.append(c),n.append(o),a.append(n)}}(t,e)})}a.on("click",function(t){t.stopPropagation(),a.toggleClass("is-active")}),$(document).click(function(){$(".dropdown").removeClass("is-active")});var t=window.location.href.split("/");"overwatch.html"==t[t.length-1]?(console.log("RU4 overwatch!!!"),e("/ow/tournaments",10,$("#owTournamentDiv")),n("Overwatch",8,$("#overwatchTwitchDiv"))):"dota2.html"==t[t.length-1]?(console.log("RU4 DOTAAAAA!!!"),e("/dota2/tournaments",10,$("#dotaTournamentDiv")),n("Dota 2",8,$("#dotaTwitchDiv"))):"leagueoflegends.html"==t[t.length-1]?(console.log("RU4 LOLLLLLL!!!"),e("/lol/tournaments",10,$("#lolTournamentDiv")),n("League of Legends",8,$("#lolTwitchDiv"))):"CSGO.html"!=t[t.length-1]&&"csgo.html"!=t[t.length-1]||(console.log("RU4 CSGO"),e("/csgo/tournaments",10,$("#csgoTournamentDiv")),n("Counter-Strike: Global Offensive",8,$("#csgoTwitchDiv"))),$("#presentation").click(function(t){t.preventDefault(),console.log("peepee"),e("/dota2/tournaments",10,$("#dotaTournamentDiv")),n("Dota 2",8,$("#dotaTwitchDiv"))})});